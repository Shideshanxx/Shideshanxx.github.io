---
layout:     post
title:      "清除浮动"
subtitle:   "消除浮动元素对布局的影响"
date:       2018-01-06
author:     "Deshan Shi"
tags:       [css,布局]
categories : [前端]
header-img: "/img/post/post-bg-ios9-web.jpg"
description: "消除浮动元素对布局的影响"
---

## 目录
{: .no_toc}

* 目录
{:toc}

## 清除浮动的必要性

通过浮动，可以很方便的布局，但浮动会造成一些不想要的结果；如果一个父盒子中有一个子盒子，并且父盒子没有设置高，子盒子在父盒子中进行了浮动，那么将来父盒子的高度为0；由于父盒子的高度为0，下面的元素会自动补位，这个时候就会布局混乱，需要清除浮动。

## 清除浮动的方法

### 方式1: 给浮动元素的父辈容器添加高度

很多时候为了高度的自适应性, 我们用子元素去撑起父元素的高度；但是如果子元素浮动之后, 就无法自动撑起父元素，导致, 父元素的高度为 0, 后面的元素就会长驱直入, 进驻到浮动元素的下方.真是悲哉。解决这个问题最简单的办法就是 手动给浮动元素的父辈元素添加高度。

	缺点：需要手动添加高度, 如何后面高度发生变化之后,还行再次修改高度, 给后期的维护带来麻烦；
	优点: 简单粗暴直接有效；
	这种方式, 尽量少用, 高度最好依赖子元素来撑开, 避免手动添加。

### 方式2: 使用清除属性clear

	clear: left/right/both;

clear属性的含义是避免前面的浮动元素对自己的影响。所以,谁不想让别人影响自己，就添加到谁身上。

clear本质是，浏览器在清理元素(使用clear属性的元素)的顶部添加了足够多的外边距，使清理元素的顶部边缘垂直下降到浮动元素的下面。

不足：

* 浮动元素的父辈仍然没有高度
* 此时清除元素的margin-top失效；前面说过clear的本质是在清理元素顶部添加足够多的外边距，所以这个时候我们再手动添加margin-top就失效了。当然, 其他三个方向的margin还是有效的。

### 方式3: 额外标签法

在浮动的盒子之下再放一个空标签，在这个标签中使用clear:both，来清除浮动对页面的影响。

* 内部标签：会将这个浮动盒子的父盒子高度重新撑开.
* 外部标签：会将这个浮动盒子的影响清除，但是不会撑开父盒子.

注意：一般情况下不会使用这一种方式来清除浮动。因为这种清除浮动的方式会增加页面的标签，造成结构的混乱。

### 方式4: 使用伪元素来清除浮动

		.clearfix:after{
	　　　　　　content:"";  //设置内容为空
	　　　　　　height:0;  //高度为0
	　　　　　　line-height:0;  //行高为0
	　　　　　　display:block;  //将文本转为块级元素
	　　　　　　visibility:hidden;  //将元素隐藏
	　　　　　　clear:both；  //清除浮动
	　　　}
	　　　.clearfix{
	　　　　　  zoom:1;  //为了兼容IE
	　　　}

这种方式使用较广泛。

### 方式5: 使用双伪元素清除浮动

	.clearfix:before,.clearfix:after{
	　　　　　　content:"";  
	　　　　　　display:block;  //将文本转为块级元素
	　　　　　　clear:both；  //清除浮动
	　　　}
	　　　.clearfix{
	　　　　　  zoom:1;  //为了兼容IE
	　　　}

### 方式6: 使用overflow属性来清除浮动

先找到浮动盒子的父元素，再在父元素中添加一个属性：overflow:hidden,就是清除这个父元素中的子元素浮动对页面的影响。

原理：当给.parent设置"overflow:hidden"时，实际上创建了一个BFC。在“BFC布局规则”中提到：计算BFC的高度时，浮动元素也参与计算。因此，父元素在计算其高度时，加入了浮动元素的高度，“顺便”达成了清除浮动的目标，所以父元素就包裹住了子元素。